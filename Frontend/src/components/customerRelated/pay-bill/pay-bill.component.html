<div class="container mt-4">
  <h2 class="text-center mb-4">üí≥ Pay Your Bill</h2>

  <!-- Bill Details Card -->
  <div class="card shadow p-3 mb-4">
    <div class="card-body">
      <h5 class="card-title">Bill Summary</h5>
      <p><strong>Consumer ID:</strong> {{ bill.consumerId }}</p>
      <p><strong>Bill Number:</strong> {{ bill.billNumber }}</p>
      <p><strong>Billing Month:</strong> {{ bill.billingMonth }}</p>
      <p><strong>Total Amount:</strong> ‚Çπ{{ bill.amount }}</p>
      <p><strong>Due Date:</strong> {{ bill.dueDate | date }}</p>
    </div>
  </div>

  <!-- Payment Form -->
  <form (ngSubmit)="makePayment()" #paymentForm="ngForm">
    <div class="card shadow p-3">
      <h5 class="card-title">Payment Details</h5>

      <div class="form-group mb-3">
        <label for="paymentMethod">Select Payment Method</label>
        <select
          id="paymentMethod"
          class="form-control"
          required
          [(ngModel)]="payment.method"
          name="paymentMethod"
        >
          <option value="">-- Select --</option>
          <option value="credit">Credit Card</option>
          <option value="debit">Debit Card</option>
          <option value="upi">UPI</option>
          <option value="netbanking">Net Banking</option>
        </select>
      </div>

      <div *ngIf="payment.method === 'upi'" class="mb-3">
        <label for="upiId">UPI ID</label>
        <input
          type="text"
          id="upiId"
          class="form-control"
          placeholder="example@upi"
          [(ngModel)]="payment.upiId"
          name="upiId"
          required
        />
      </div>

      <div *ngIf="payment.method === 'credit' || payment.method === 'debit'" class="mb-3">
        <label for="cardNumber">Card Number</label>
        <input
          type="text"
          id="cardNumber"
          maxlength="16"
          class="form-control"
          placeholder="Enter 16-digit card number"
          [(ngModel)]="payment.cardNumber"
          name="cardNumber"
          required
        />

        <div class="row mt-2">
          <div class="col-md-6">
            <label for="expiry">Expiry (MM/YY)</label>
            <input
              type="text"
              id="expiry"
              class="form-control"
              placeholder="MM/YY"
              [(ngModel)]="payment.expiry"
              name="expiry"
              required
            />
          </div>
          <div class="col-md-6">
            <label for="cvv">CVV</label>
            <input
              type="password"
              id="cvv"
              maxlength="3"
              class="form-control"
              placeholder="***"
              [(ngModel)]="payment.cvv"
              name="cvv"
              required
            />
          </div>
        </div>
      </div>

      <div class="text-center mt-4">
        <button type="submit" class="btn btn-success px-4" [disabled]="!paymentForm.form.valid">
          Pay Now
        </button>
      </div>
    </div>
  </form>

  <!-- Payment Success Message -->
  <div *ngIf="paymentSuccess" class="alert alert-success mt-4 text-center">
    ‚úÖ Payment Successful! Transaction ID: {{ transactionId }}
  </div>

  <!-- Payment Error -->
  <div *ngIf="paymentError" class="alert alert-danger mt-4 text-center">
    ‚ùå Payment Failed: {{ paymentError }}
  </div>
</div>
